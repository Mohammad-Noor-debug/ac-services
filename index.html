<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AC Services Riyadh</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#f5f5f5; display:flex; justify-content:center; align-items:center; min-height:100vh; }
    .container { background:#fff; padding:2rem; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.1); max-width:420px; width:92%; text-align:center; }
    h1 { color:#0a78d1; margin:0 0 .5rem; }
    p { color:#333; margin:.25rem 0 1rem; }
    form { display:flex; flex-direction:column; gap:12px; }
    input, select, textarea, button { padding:12px; font-size:16px; border-radius:8px; border:1px solid #ddd; }
    textarea { min-height:96px; resize:vertical; }
    button { background:#0a78d1; color:#fff; border:none; cursor:pointer; }
    button:hover { background:#075a9b; }
    .status { margin-top:12px; font-weight:bold; }
  </style>
</head>
<body>
  <div class="container">
    <h1>AC Services Riyadh</h1>
    <p>Submit your AC request. We'll take it from here.</p>

    <form id="requestForm">
      <input id="name" type="text" placeholder="Full Name" required />
      <input id="phone" type="tel" placeholder="Phone Number" required />
      <input id="location" type="text" placeholder="District / Map link" required />
      <select id="service" required>
        <option value="">Select Service</option>
        <option>Maintenance</option>
        <option>Repair</option>
        <option>Installation</option>
        <option>Emergency</option>
      </select>
      <textarea id="notes" placeholder="Notes (optional)"></textarea>
      <button type="submit">Submit Request</button>
    </form>

    <div id="status" class="status"></div>
  </div>

  <script>
    // If hosting THIS page on Vercel, keep relative endpoint:
    const ENDPOINT = '/api/send-whatsapp';

    // If hosting THIS page on GitHub Pages, replace with your Vercel URL:
    // const ENDPOINT = 'https://your-vercel-project.vercel.app/api/send-whatsapp';

    const form = document.getElementById('requestForm');
    const statusEl = document.getElementById('status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = 'Sending...';

      const payload = {
        name: document.getElementById('name').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        location: document.getElementById('location').value.trim(),
        service: document.getElementById('service').value,
        notes: document.getElementById('notes').value.trim()
      };

      try {
        const res = await fetch(ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        if (!res.ok) throw new Error('Request failed');

        statusEl.textContent = '✅ Request submitted successfully!';
        form.reset();
      } catch (err) {
        console.error(err);
        statusEl.textContent = '❌ Failed to submit. Please try again.';
      }
    });
  </script>
</body>
</html>
